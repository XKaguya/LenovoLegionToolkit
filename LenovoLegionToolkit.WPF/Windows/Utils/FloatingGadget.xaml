<Window
    x:Class="LenovoLegionToolkit.WPF.Windows.Utils.FloatingGadget"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:LenovoLegionToolkit.WPF.Windows"
    xmlns:resources="clr-namespace:LenovoLegionToolkit.WPF.Resources"
    xmlns:utils="clr-namespace:LenovoLegionToolkit.WPF.Utils"
    Title="FloatingGadget"
    Height="630"
    Width="280" 
    Background="Transparent"
    AllowsTransparency="True"
    WindowStyle="None"
    ShowInTaskbar="False"
    WindowStartupLocation="Manual"
    Topmost="True"
    Top="20"
    Left="0">

    <Border Background="Transparent" CornerRadius="12" Padding="15">
        <StackPanel>
            <StackPanel x:Name="_sensorsPanel">

                <StackPanel.Resources>
                    <Style x:Key="SensorLabelStyle" TargetType="TextBlock">
                        <Setter Property="Foreground" Value="DeepSkyBlue"/>
                        <Setter Property="FontSize" Value="13"/>
                        <Setter Property="Margin" Value="0,3"/>
                    </Style>
                    <Style x:Key="SensorValueStyle" TargetType="TextBlock">
                        <Setter Property="Foreground" Value="#FFFFFF"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="HorizontalAlignment" Value="Right"/>
                        <Setter Property="Margin" Value="0,3"/>
                    </Style>
                </StackPanel.Resources>

                <StackPanel Margin="0,5,0,0">
                    <TextBlock Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Cpu}, StringFormat='— {0} —'}" Style="{StaticResource SensorLabelStyle}" FontWeight="Bold" Foreground="#FF5722" FontSize="14" Margin="0,0,0,5"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_Utilization_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_cpuUsage" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_CoreClock_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_cpuFrequency" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_Temperature_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_cpuTemperature" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_CPU_Power}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_cpuPower" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                </StackPanel>
                
                <Separator Background="#3A3A3A" Margin="0,8"/>

                <StackPanel>
                    <TextBlock Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Gpu}, StringFormat='— {0} —'}" Style="{StaticResource SensorLabelStyle}" FontWeight="Bold" Foreground="#4CAF50" FontSize="14" Margin="0,0,0,5"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_Utilization_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_gpuUsage" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_CoreClock_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_gpuFrequency" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_GpuCore_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_gpuTemperature" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_GpuMemoryTemperature_Title}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_gpuVramTemperature" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorsControl_CPU_Power}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_gpuPower" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                </StackPanel>

                <Separator Background="#3A3A3A" Margin="0,8"/>

                <StackPanel>
                    <TextBlock Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Chipset}, StringFormat='— {0} —'}" Style="{StaticResource SensorLabelStyle}" FontWeight="Bold" Foreground="#FFC107" FontSize="14" Margin="0,0,0,5"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.SensorItem_PchTemperature}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_pchTemperature" Grid.Column="2" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_Memory_Utilization}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_memUsage" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_Memory_Temperature}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_memTemperature" Grid.Column="2" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_Disk_0_Temperature}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_disk0Temperature" Grid.Column="2" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_Disk_1_Temperature}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_disk1Temperature" Grid.Column="2" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                </StackPanel>

                <Separator Background="#3A3A3A" Margin="0,8"/>

                <StackPanel>
                    <TextBlock Text="{Binding Source={x:Static resources:Resource.FloatingGadgets_Fans}, StringFormat='— {0} —'}"  Style="{StaticResource SensorLabelStyle}" FontWeight="Bold" Foreground="#E91E63" FontSize="14" Margin="0,0,0,5"/>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_CPU_Fan}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_cpuFanSpeed" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_GPU_Fan}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_gpuFanSpeed" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="{x:Static resources:Resource.FloatingGadgets_PCH_Fan}" Style="{StaticResource SensorLabelStyle}" />
                        <TextBlock x:Name="_pchFanSpeed" Grid.Column="1" Text="-" Style="{StaticResource SensorValueStyle}" />
                    </Grid>
                </StackPanel>

            </StackPanel>
        </StackPanel>
    </Border>
</Window>